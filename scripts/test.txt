Revision 2
Reserved 2
Identifier 16
StaticDataBuffer 8
(PRM _DATA _

BUFFER)

(virtual address)

RuntimeMmio 8
Ranges
(PRM_MODULE_
CONFIG_RUNTIM_
MMIO RANGES)

(virtual address)

24

32

Revision of this PRM Module Context Buffer structure.
Reserved

The GUID of the PRM handler represented by this
structure.

A virtual address pointer to the static data buffer
allocated for the PRM handler represented by this
context instance.

The static buffer is intended to be populated in the
firmware boot environment.

This pointer may be NULL if a static data buffer is not
needed.

A virtual address pointer to an array of
PRM_RUNTIME_MMIO_RANGE structures that
describe MMIO physical address ranges mapped to
virtual memory addresses for access at OS runtime.

The MMIO ranges are intended to be populated in the
firmware boot environment. The virtual address pointer
should also be set in the firmware boot environment.

This pointer may be NULL if runtime memory ranges are
not needed.

The Context Buffer is allocated by the OS Bridge Driver. This is constructed using data
discovered in the PRMT ACPI table (StaticDataBuffer and RuntimeMmioPages) and passed as
an argument to PRM handlers. For any pointer that is NULL in the ACPI table, a NULL pointer
may be passed to PRM handlers. PRM handler code should expect and handle this case.

Figure 5-1
OS Driver (e.g
RAS Handler)
Invocation through
PRMOpRegion

(GUID, *ParamBuffer)

Bridge Driver consults PRMT to
build the ContextBuffer

| al

Invocation Summary

OS Driver (e.g

RAS Handler)

Direct Invocation

(GUID, *ParamBuffer)

ACPI/Bridge *PRM_HANDLER

Driver *ParamBuffer,

PRM

Handlers

PRMT

