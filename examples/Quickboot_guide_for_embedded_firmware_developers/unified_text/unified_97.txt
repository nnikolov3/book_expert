The system's configuration and initialization are crucial aspects of computer architecture, and several key components are involved in this process. Firstly, the Watch Dog Timer, a hardware component that monitors the system's operation and triggers a reset if it detects any anomalies, should be disabled by firmware as soon as possible after the system reset. This is because halting the system for debug purposes before disabling the Watch Dog Timer can result in system resets, which would prevent firmware debugging. The Operating System will re-enable the Watch Dog Timer if it is not functioning as intended.In addition to the Watch Dog Timer, the Local APIC Timer is another important component. The Local APIC contains a timer that can be utilized by firmware, and its operation is detailed in the Intel sixty-four and IA thirty-two Architectures Software Developer's Manual, Volume three A. This timer plays a critical role in managing the system's timing and synchronization.Memory caching control is also a vital aspect of system configuration. Different memory regions exhibit distinct caching behaviors, which are often determined by design. In the absence of specific caching requirements, guidelines are provided to ensure a "safe" caching environment for typical systems. These guidelines include setting the default cache rule to uncached, and defining specific caching policies for various memory regions, such as write back, write combined, and write protect.The caching policies are defined for specific memory ranges, including the range from zero zero zero zero zero zero zero zero to zero zero zero nine FFFF, which is set to write back. The range from zero zero zero A zero zero zero zero to zero zero zero B FFFF is defined as write combined or uncached, while the range from zero zero zero C zero zero zero zero to zero zero zero zero FFFF is set to write back and write protect. The range from zero zero one zero zero zero zero zero to the top of memory is also set to write back.Furthermore, specific memory segments, such as TSEG, are cached on newer processors, while graphics memory can be configured as either write combined or uncached. Hardware memory-mapped I/O is designated as uncached, ensuring that CPU accesses directly interact with the hardware registers.In addition to these configuration aspects, the system also involves the programming of Memory Type Range Registers, or MTRRs, and Page Attribute Tables, or PATs. These components control memory caching at a granular level, allowing the operating system to define how different regions of physical memory are accessed by the processor.Serial ports are also an essential part of the system, providing a minimal register-level interface that enables them to be initialized early in the boot process. This allows for serial output support, which is vital for early system diagnostics and communication. Console input and output protocols are also managed during the Dynamic Execution Environment phase of the boot process.The system's clocking solution is another critical aspect, with the BIOS potentially responsible for enabling the system's clocking. Subsystems, such as the Manageability Engine or Baseboard Management Controller, may also have this responsibility, particularly in server platforms. The BIOS may need to perform adjustments with a ramp algorithm to underclock the CPU for adaptive clocking support.Expanded configuration options for overclocking are also available, including enabling or disabling clock output, adjusting clock spread settings, underclocking the CPU, and locking out clock registers prior to transitioning to the host OS. These options provide a high degree of control over the system's timing and performance.Finally, Peripheral Connect Interface, or PCI, device enumeration is a generic term that refers to detecting and assigning resources to PCI-compliant devices in the system. This process involves assigning memory, prefetchable memory, I/O space, memory-mapped I/O space, IRQ assignment, and expansion ROM detection and execution. PCI device discovery applies to all newer, non-legacy interfaces, such as PCI Express root ports, USB controllers, SATA controllers, audio controllers, LAN controllers, and various add-in devices.
